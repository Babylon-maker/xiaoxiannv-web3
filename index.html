<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ğŸŒ¸ å°ä»™å¥³ Web3 å®‰å…¨é­”æ³•ä»ªè¡¨å° ğŸŒ¸</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3@1.10.4/dist/web3.min.js"></script>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Poppins','Microsoft YaHei',sans-serif;
  height:100vh;overflow:hidden;
  background:radial-gradient(circle at 20% 20%,#ffe4f8,#fff0fa,#ffffff);
  background-size:200% 200%;
  animation:bgmove 10s infinite alternate;
  display:flex;flex-direction:column;justify-content:center;align-items:center;
}
@keyframes bgmove{0%{background-position:0 0;}100%{background-position:100% 100%;}}
.container{
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,.5);
  border-radius:24px;
  box-shadow:0 8px 32px rgba(255,182,193,.3);
  width:90%;max-width:480px;padding:40px;text-align:center;
}
h1{color:#ff3f9f;margin-bottom:20px;text-shadow:0 0 10px rgba(255,105,180,.5);}
button{
  background:linear-gradient(90deg,#ff9ad5,#ffa6e1,#ffbde8);
  border:none;color:#fff;font-weight:bold;
  padding:12px 28px;border-radius:30px;cursor:pointer;
  transition:all .3s;font-size:16px;margin:6px;
}
button:hover{transform:scale(1.05);box-shadow:0 0 25px rgba(255,105,180,.6);}
#addr,#bnb{margin-top:10px;font-size:.9em;color:#ff69b4;word-break:break-all}
canvas{margin-top:20px;width:100%!important;max-height:180px;}
.sparkle{position:fixed;width:4px;height:4px;background:#fff;border-radius:50%;animation:fall 10s infinite linear;opacity:.8;}
@keyframes fall{0%{transform:translateY(-10vh) scale(0);}50%{opacity:1;}100%{transform:translateY(110vh) scale(1);opacity:0;}}
@media(max-width:480px){.container{padding:24px;width:95%!important;}button{padding:10px 22px;font-size:14px;}}
</style>
</head>
<body>
<div class="container">
  <h1>ğŸª å°ä»™å¥³ Web3 å®‰å…¨ä»ªè¡¨å° ğŸ’«</h1>
  <button id="connectBtn">âœ¨ è¿æ¥é’±åŒ…</button>
  <div id="addr"></div>
  <div id="bnb"></div>
  <canvas id="chart"></canvas>
</div>

<script>
// ğŸŒ¸ è‡ªåŠ¨è·³è½¬é’±åŒ…ï¼ˆå®‰å…¨ï¼‰
function autoRedirectMobile(){
  const isMobile = /Android|iPhone|iPad/i.test(navigator.userAgent);
  if(isMobile && typeof window.ethereum === 'undefined'){
    const url = window.location.href;
    if(/Android/i.test(navigator.userAgent)){
      window.location.href = 'okx://wallet/dapp?url=' + encodeURIComponent(url);
    } else {
      window.location.href = 'okxwallet://dapp?url=' + encodeURIComponent(url);
    }
    setTimeout(()=>{ window.location.href='https://trustwallet.com/start/?dapp='+encodeURIComponent(url); },1500);
    setTimeout(()=>{ window.location.href='https://www.binance.com/zh-CN/web3wallet.html#'+encodeURIComponent(url); },2500);
  }
}

// ğŸŒŸ Web3 é’±åŒ…è¿æ¥ï¼ˆä»…è¯»ï¼‰
let web3, currentAddr;
async function connectWallet(){
  if(!window.ethereum){ alert('æœªæ£€æµ‹åˆ°é’±åŒ…æ‰©å±•'); return; }
  web3 = new Web3(window.ethereum);
  const accs = await window.ethereum.request({ method:'eth_requestAccounts' });
  currentAddr = accs[0];
  document.getElementById('addr').textContent = 'åœ°å€ï¼š' + currentAddr;
  const balWei = await web3.eth.getBalance(currentAddr);
  document.getElementById('bnb').textContent = 'BNBä½™é¢ï¼š' + web3.utils.fromWei(balWei, 'ether');
}
document.getElementById('connectBtn').onclick = connectWallet;

// ğŸ“ˆ å®æ—¶ä»·æ ¼æ›²çº¿æ¨¡æ‹Ÿ
const ctx=document.getElementById('chart');
const chart=new Chart(ctx,{
  type:'line',
  data:{labels:[],datasets:[{label:'æ¨¡æ‹Ÿè¡Œæƒ…',data:[],borderColor:'#ff69b4',tension:.4,fill:false}]},
  options:{scales:{x:{display:false},y:{display:false}},plugins:{legend:{display:false}}}
});
setInterval(()=>{
  chart.data.labels.push('');
  chart.data.datasets[0].data.push(100 + Math.sin(Date.now()/5000)*10 + Math.random()*2);
  if(chart.data.labels.length>25){chart.data.labels.shift();chart.data.datasets[0].data.shift();}
  chart.update();
},1500);

// âœ¨ éšæœºç²’å­åŠ¨ç”»
for(let i=0;i<25;i++){
  const s=document.createElement('div');
  s.className='sparkle';
  s.style.left=Math.random()*100+'vw';
  s.style.animationDelay=Math.random()*5+'s';
  s.style.animationDuration=8+Math.random()*8+'s';
  document.body.appendChild(s);
}

// å¯åŠ¨è‡ªåŠ¨æ£€æµ‹
autoRedirectMobile();
</script>
</body>
</html>
