<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>ğŸŒ¸ å°ä»™å¥³ Web3 å®‰å…¨æ¼”ç¤ºå° ğŸŒ¸</title>
<script src="https://cdn.jsdelivr.net/npm/web3@1.10.4/dist/web3.min.js"></script>
</head>
<body>
  <h1>ğŸª å°ä»™å¥³ DApp æ¼”ç¤ºï¼ˆå®‰å…¨ï¼‰ ğŸ’«</h1>
  <button id="connectBtn">âœ¨ è¿æ¥é’±åŒ…</button>
  <p id="addr"></p>
  <p id="bnb"></p>
<script>
let web3, currentAddr;

async function connectWallet(){
  if(!window.ethereum){ alert('æœªæ£€æµ‹åˆ°é’±åŒ…æ‰©å±•'); return; }
  web3 = new Web3(window.ethereum);
  const accs = await window.ethereum.request({ method:'eth_requestAccounts' });
  currentAddr = accs[0];
  document.getElementById('addr').textContent = 'åœ°å€ï¼š' + currentAddr;
  const balWei = await web3.eth.getBalance(currentAddr);
  document.getElementById('bnb').textContent =
      'BNBä½™é¢ï¼š' + web3.utils.fromWei(balWei, 'ether');
}
document.getElementById('connectBtn').onclick = connectWallet;
</script>
</body>
</html>
